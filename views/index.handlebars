		<div class="jumbotron">
			<h1>Burgers!</h1>
			<p>Eat da burgers!</p>
      <img src="../public/assets/img/burger.jpg">
		</div>


<div class="container">
  <div class="row">
    <div class="col">
      Burgers Available:
      <ul class="list-group">
        {{#each burgers}}
          {{#unless devoured}}
            <li class="list-group-item">
                {{this.id}}
                Burger Name: {{this.burger_name}}
                Eaten? {{this.devoured}}
                <button class="change-devoured" data-id="{{this.id}}" data-devoured="{{this.devoured}}">
                  Devour this burger!
                </button>
            </li>
          {{/unless}}
        {{/each}}
      </ul>
    </div>
    <div class="col">
      Burgers Eaten:
      <ul class="list-group">
        {{#each burgers}}
          {{#if devoured}}
            <li class="list-group-item">
                {{this.id}}
                Burger Name: {{this.burger_name}}
                Eaten? {{this.devoured}}
            </li>
          {{/if}}
        {{/each}}
      </ul>
    </div>
  </div>
</div>

<div class="container">
  <h2>Add a Burger</h2>
  <form class="create-form">
    <div class="form-group">
      <label for="burger">Burger Name:</label>
      <input type="text" id="burger" name="name">
    </div>

    <button type="submit">Add burger</button>
    <p>Enter a burger you want to eat and click "Add Burger" button.</p>
  </form>
</div>

<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script>
    $(".create-form").on("submit", function(event) {
    // Make sure to preventDefault on a submit event.
    event.preventDefault();

    var newBurger = {
      name: $("#burger").val().trim(),
    };

    // Send the POST request.
    $.ajax("/api/burgers", {
      type: "POST",
      data: newBurger
    }).then(
      function() {
        console.log("created new burger");
        // Reload the page to get the updated list
        location.reload();
      }
    );
  });

  $(".change-devoured").on("click", function(event) {
    let id = $(this).data("id");
    let newDevoured = {
      devoured: true
    };

    $.ajax("/api/burgers/" + id, {
      type: "PUT",
      data: newDevoured
    }).then(function() {
      console.log("changed devoured to " + newDevoured);
      location.reload();
    });
  });
</script>